import { Matrix4 } from './interfaces';

export function createMat4(): Matrix4 {
	const out = new Float32Array(16);
	out[0] = 1;
	out[5] = 1;
	out[10] = 1;
	out[15] = 1;
	return out;
}

export function ortho(out: Matrix4, left: number, right: number, bottom: number, top: number,
	near: number, far: number, transformZ: boolean
) {
	const lr = 1 / (left - right);
	const bt = 1 / (bottom - top);
	const nf = 1 / (near - far);
	out[0] = -2 * lr;	            out[1] = 0;	                    out[2] = 0;	                  out[3] = 0;
	out[4] = 0;                     out[5] = -2 * bt;               out[6] = 0;                   out[7] = 0;
	out[8] = 0;                     out[9] = 0;                     out[10] = 2 * nf;             out[11] = 0;
	out[12] = (left + right) * lr;  out[13] = (top + bottom) * bt;	out[14] = (far + near) * nf;  out[15] = 1;

	if (!transformZ) {
		out[10] = 1;
		out[14] = 0;
	}

	return out;
}
